<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ü¶ê –ú–∞–≥–∞–∑–∏–Ω –º–æ—Ä–µ–ø—Ä–æ–¥—É–∫—Ç–æ–≤</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="app">
        <!-- –®–ê–ü–ö–ê -->
        <div class="header">
            <h1>ü¶ê –ú–ê–ì–ê–ó–ò–ù –ú–û–†–ï–ü–†–û–î–£–ö–¢–û–í</h1>
            <div class="cart-icon" onclick="goToCart()">
                üõí <span id="cartCount">0</span>
            </div>
        </div>

        <!-- –ì–õ–ê–í–ù–û–ï –ú–ï–ù–Æ -->
        <div id="mainMenu">
            <button class="big-btn" onclick="showCategories()">üõç –ö–ê–¢–ê–õ–û–ì</button>
            <div class="row">
                <button class="half-btn" onclick="goToCart()">üõí –ö–û–†–ó–ò–ù–ê</button>
                <button class="half-btn" onclick="showOrders()">üì¶ –ó–ê–ö–ê–ó–´</button>
            </div>
            <div class="row">
                <button class="half-btn" onclick="showReviews()">‚≠ê –û–¢–ó–´–í–´</button>
                <button class="half-btn" onclick="showHelp()">‚Ñπ –ü–û–ú–û–©–¨</button>
            </div>
            <button class="big-btn" onclick="showAbout()">üè¢ –û –ù–ê–°</button>
            <button id="adminBtn" class="admin-btn" style="display: none;" onclick="showAdmin()">üëë –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨</button>
        </div>

        <!-- –ö–ê–¢–ê–õ–û–ì - –ö–ê–¢–ï–ì–û–†–ò–ò -->
        <div id="categoriesPage" style="display: none;">
            <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>üìã –ö–ê–¢–ï–ì–û–†–ò–ò</h2>
            <div id="categoriesList" class="categories-grid"></div>
        </div>

        <!-- –ö–ê–¢–ê–õ–û–ì - –¢–û–í–ê–†–´ -->
        <div id="productsPage" style="display: none;">
            <button class="back-btn" onclick="showCategories()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2 id="categoryTitle"></h2>
            <div id="productsList" class="products-grid"></div>
        </div>

        <!-- –î–ï–¢–ê–õ–ò –¢–û–í–ê–†–ê -->
        <div id="productDetailPage" style="display: none;">
            <button class="back-btn" onclick="showProducts(currentCategoryId, currentCategoryName)">‚Üê –ù–∞–∑–∞–¥</button>
            <div id="productDetail" class="product-detail"></div>
        </div>

        <!-- –ö–û–†–ó–ò–ù–ê -->
        <div id="cartPage" style="display: none;">
            <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>üõí –ö–û–†–ó–ò–ù–ê</h2>
            <div class="delivery">‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞ 31 –§–µ–≤—Ä–∞–ª—è</div>
            <div id="cartList" class="cart-items"></div>
            <div id="cartTotal" class="total"></div>
            <button class="green-btn" onclick="goToCheckout()">üì¶ –û–§–û–†–ú–ò–¢–¨ –ó–ê–ö–ê–ó</button>
            <button class="red-btn" onclick="clearCart()">üóë –û–ß–ò–°–¢–ò–¢–¨ –ö–û–†–ó–ò–ù–£</button>
        </div>

        <!-- –û–§–û–†–ú–õ–ï–ù–ò–ï –ó–ê–ö–ê–ó–ê -->
        <div id="checkoutPage" style="display: none;">
            <button class="back-btn" onclick="goToCart()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>üì¶ –û–§–û–†–ú–õ–ï–ù–ò–ï –ó–ê–ö–ê–ó–ê</h2>
            <div class="delivery">‚úÖ –î–æ—Å—Ç–∞–≤–∫–∞ 31 –§–µ–≤—Ä–∞–ª—è</div>
            <input type="text" id="customerName" placeholder="–í–∞—à–µ –∏–º—è" required>
            <input type="tel" id="customerPhone" placeholder="–¢–µ–ª–µ—Ñ–æ–Ω" required>
            <textarea id="orderComment" placeholder="–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –∑–∞–∫–∞–∑—É (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)" rows="3"></textarea>
            <button class="green-btn" onclick="createOrder()">‚úÖ –ü–û–î–¢–í–ï–†–î–ò–¢–¨ –ó–ê–ö–ê–ó</button>
        </div>

        <!-- –ú–û–ò –ó–ê–ö–ê–ó–´ -->
        <div id="ordersPage" style="display: none;">
            <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>üì¶ –ú–û–ò –ó–ê–ö–ê–ó–´</h2>
            <div id="ordersList" class="orders-list"></div>
        </div>

        <!-- –û–¢–ó–´–í–´ -->
        <div id="reviewsPage" style="display: none;">
            <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>‚≠ê –û–¢–ó–´–í–´</h2>
            <div id="reviewsStats" class="stats-box"></div>
            <div id="reviewsList" class="reviews-list"></div>
            <button class="green-btn" onclick="showAddReview()">‚úç –ù–ê–ü–ò–°–ê–¢–¨ –û–¢–ó–´–í</button>
        </div>

        <!-- –î–û–ë–ê–í–ò–¢–¨ –û–¢–ó–´–í -->
        <div id="addReviewPage" style="display: none;">
            <button class="back-btn" onclick="showReviews()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>‚úç –ù–ê–ü–ò–°–ê–¢–¨ –û–¢–ó–´–í</h2>
            <div class="stars">
                <span onclick="setRating(1)">‚≠ê</span>
                <span onclick="setRating(2)">‚≠ê</span>
                <span onclick="setRating(3)">‚≠ê</span>
                <span onclick="setRating(4)">‚≠ê</span>
                <span onclick="setRating(5)">‚≠ê</span>
            </div>
            <textarea id="reviewText" placeholder="–í–∞—à –æ—Ç–∑—ã–≤" rows="4"></textarea>
            <button class="green-btn" onclick="submitReview()">üì§ –û–¢–ü–†–ê–í–ò–¢–¨</button>
        </div>

        <!-- –ü–û–ú–û–©–¨ -->
        <div id="helpPage" style="display: none;">
            <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>‚Ñπ –ü–û–ú–û–©–¨</h2>
            <div class="info-box">
                <p>üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞: @admin</p>
            </div>
        </div>

        <!-- –û –ù–ê–° -->
        <div id="aboutPage" style="display: none;">
            <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>üè¢ –û –ù–ê–°</h2>
            <div class="info-box">
                <p><b>ü¶ê –ú–ê–ì–ê–ó–ò–ù –ú–û–†–ï–ü–†–û–î–£–ö–¢–û–í</b></p>
                <p>üìç –ê–¥—Ä–µ—Å: –≥. –í–æ–ª–≥–æ–≥—Ä–∞–¥, —É–ª. –†–∞–±–æ—á–µ-–ö—Ä–µ—Å—Ç—å—è–Ω—Å–∫–∞—è</p>
                <p>üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã: +7 (999) 123-45-67</p>
                <p>üöö –î–æ—Å—Ç–∞–≤–∫–∞: 31 –§–µ–≤—Ä–∞–ª—è</p>
                <p>- –°–∞–º–æ–≤—ã–≤–æ–∑ - –±–µ—Å–ø–ª–∞—Ç–Ω–æ</p>
                <p>üí≥ –û–ø–ª–∞—Ç–∞: –Ω–∞–ª–∏—á–Ω—ã–µ, –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ –∫–∞—Ä—Ç—É</p>
                <p>‚≠ê –†–∞–±–æ—Ç–∞–µ–º —Å 2015 –≥–æ–¥–∞</p>
            </div>
        </div>

        <!-- –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨ -->
        <div id="adminPage" style="display: none;">
            <button class="back-btn" onclick="showMainMenu()">‚Üê –ù–∞–∑–∞–¥</button>
            <h2>üëë –ê–î–ú–ò–ù –ü–ê–ù–ï–õ–¨</h2>
            
            <!-- –°–¢–ê–¢–ò–°–¢–ò–ö–ê -->
            <div class="admin-section">
                <h3>üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ú–ê–ì–ê–ó–ò–ù–ê</h3>
                <div id="adminStats" class="stats-grid"></div>
            </div>

            <!-- –ù–û–í–´–ï –ó–ê–ö–ê–ó–´ -->
            <div class="admin-section">
                <h3>üì¶ –ù–û–í–´–ï –ó–ê–ö–ê–ó–´ (—Ç—Ä–µ–±—É—é—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è)</h3>
                <div id="adminOrders"></div>
            </div>

            <!-- –û–¢–ó–´–í–´ -->
            <div class="admin-section">
                <h3>‚≠ê –û–¢–ó–´–í–´ –ù–ê –ú–û–î–ï–†–ê–¶–ò–Æ</h3>
                <div id="adminReviews"></div>
            </div>

            <!-- –£–ü–†–ê–í–õ–ï–ù–ò–ï –¢–û–í–ê–†–ê–ú–ò -->
            <div class="admin-section">
                <h3>üì¶ –£–ü–†–ê–í–õ–ï–ù–ò–ï –¢–û–í–ê–†–ê–ú–ò</h3>
                <div class="admin-buttons">
                    <button class="admin-action-btn" onclick="exportProducts()">üì§ –≠–ö–°–ü–û–†–¢ –¢–û–í–ê–†–û–í (Excel)</button>
                    <button class="admin-action-btn" onclick="importProducts()">üì• –ò–ú–ü–û–†–¢ –¢–û–í–ê–†–û–í (Excel)</button>
                </div>
                <div class="admin-buttons">
                    <button class="admin-action-btn" onclick="exportOrders()">üìä –≠–ö–°–ü–û–†–¢ –ó–ê–ö–ê–ó–û–í (CSV)</button>
                    <button class="admin-action-btn" onclick="showEditProducts()">‚úè –†–ï–î–ê–ö–¢–ò–†–û–í–ê–¢–¨ –¢–û–í–ê–†–´</button>
                </div>
                <div id="importStatus" class="import-status"></div>
                <input type="file" id="importFile" accept=".xlsx, .xls" style="display: none;" onchange="uploadImportFile()">
            </div>

            <!-- –°–ü–ò–°–û–ö –¢–û–í–ê–†–û–í –î–õ–Ø –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø -->
            <div id="editProductsSection" style="display: none;">
                <h3>‚úè –í–´–ë–ï–†–ò–¢–ï –¢–û–í–ê–† –î–õ–Ø –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø</h3>
                <div id="productsEditList" class="products-edit-list"></div>
                <button class="back-btn" onclick="hideEditProducts()">‚Üê –ù–∞–∑–∞–¥ –∫ –∞–¥–º–∏–Ω-–ø–∞–Ω–µ–ª–∏</button>
            </div>

            <!-- –§–û–†–ú–ê –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–Ø –¢–û–í–ê–†–ê -->
            <div id="editProductForm" style="display: none;">
                <h3 id="editProductTitle">‚úè –†–ï–î–ê–ö–¢–ò–†–û–í–ê–ù–ò–ï –¢–û–í–ê–†–ê</h3>
                <input type="text" id="editName" placeholder="–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞">
                <textarea id="editDescription" placeholder="–ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ" rows="2"></textarea>
                <textarea id="editFullDescription" placeholder="–ü–æ–ª–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ" rows="3"></textarea>
                <input type="number" id="editPrice" placeholder="–¶–µ–Ω–∞">
                <input type="text" id="editUnit" placeholder="–ï–¥–∏–Ω–∏—Ü–∞ –∏–∑–º–µ—Ä–µ–Ω–∏—è (–∫–≥, —à—Ç, —É–ø)">
                <input type="text" id="editWeight" placeholder="–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –≤–µ—Å–µ">
                <input type="text" id="editOrigin" placeholder="–ü—Ä–æ–∏—Å—Ö–æ–∂–¥–µ–Ω–∏–µ">
                <input type="text" id="editTag" placeholder="–û—Å–æ–±–∞—è –º–µ—Ç–∫–∞">
                
                <!-- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ—Ç–æ–≥—Ä–∞—Ñ–∏—è–º–∏ -->
                <div class="product-photos-section">
                    <h4>üì∑ –§–æ—Ç–æ–≥—Ä–∞—Ñ–∏–∏ —Ç–æ–≤–∞—Ä–∞</h4>
                    <div id="productPhotosList" class="photos-list"></div>
                    
                    <div class="photo-upload">
                        <input type="file" id="photoUpload" accept="image/*" onchange="uploadProductPhoto()">
                        <label for="photoUpload" class="photo-upload-btn">üì§ –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–æ—Ç–æ</label>
                        <div id="photoUploadStatus" class="photo-upload-status"></div>
                    </div>
                </div>

                <!-- –ù–æ–≤—ã–µ –ø–æ–ª—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è -->
                <input type="text" id="editStorage" placeholder="–£—Å–ª–æ–≤–∏—è —Ö—Ä–∞–Ω–µ–Ω–∏—è">
                <input type="text" id="editCooking" placeholder="–°–ø–æ—Å–æ–±—ã –ø—Ä–∏–≥–æ—Ç–æ–≤–ª–µ–Ω–∏—è">
                <textarea id="editNutrition" placeholder="–ü–∏—â–µ–≤–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å" rows="3"></textarea>
                
                <div class="admin-buttons">
                    <button class="green-btn" onclick="saveProduct()">üíæ –°–û–•–†–ê–ù–ò–¢–¨ –ò–ó–ú–ï–ù–ï–ù–ò–Ø</button>
                    <button class="red-btn" onclick="cancelEdit()">‚úï –û–¢–ú–ï–ù–ê</button>
                </div>
            </div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>